(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{175:function(t,n,e){"use strict";var o=e(7),r=e(176)(5),c=!0;"find"in[]&&Array(1).find(function(){c=!1}),o(o.P+o.F*c,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(71)("find")},176:function(t,n,e){var o=e(27),r=e(70),c=e(28),l=e(20),f=e(177);t.exports=function(t,n){var e=1==t,d=2==t,v=3==t,h=4==t,m=6==t,y=5==t||m,_=n||f;return function(n,f,k){for(var L,j,x=c(n),w=r(x),C=o(f,k,3),O=l(w.length),J=0,N=e?_(n,O):d?_(n,0):void 0;O>J;J++)if((y||J in w)&&(j=C(L=w[J],J,x),t))if(e)N[J]=j;else if(j)switch(t){case 3:return!0;case 5:return L;case 6:return J;case 2:N.push(L)}else if(h)return!1;return m?-1:v||h?h:N}}},177:function(t,n,e){var o=e(178);t.exports=function(t,n){return new(o(t))(n)}},178:function(t,n,e){var o=e(10),r=e(96),c=e(3)("species");t.exports=function(t){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)||(n=void 0),o(n)&&null===(n=n[c])&&(n=void 0)),void 0===n?Array:n}},179:function(t,n,e){"use strict";e.r(n);var o,r=e(25),c=(e(54),e(175),{data:function(){return{error:"",lat:"",lon:"",demo:[],url:"https://api.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidmphbmRyZWkiLCJhIjoiY2p5bGJ4YTZnMDY5aTNjcnR3N2p4NGZmbCJ9.uxuxi-gzV2Nz47Scn-uhLw",zoom:13,id:"mapbox.streets",accessToken:"pk.eyJ1IjoidmphbmRyZWkiLCJhIjoiY2p5bGJ4YTZnMDY5aTNjcnR3N2p4NGZmbCJ9.uxuxi-gzV2Nz47Scn-uhLw",map:null,tileLayer:null,bounds:null,layers:[{id:0,name:"Bio gas",active:!1,features:[]}]}},computed:{stations:function(){return this.$store.state.stations.all},userLocation:function(){return[this.lat,this.lon]}},mounted:function(){this.initLayers(),this.currentLocation()},methods:(o={layerChanged:function(t,n){var e=this;this.layers.find(function(n){return n.id===t}).features.forEach(function(t){n?t.leafletObject.addTo(e.map):t.leafletObject.removeFrom(e.map)})},initLayers:function(){this.layers.forEach(function(t){var n=t.features.filter(function(t){return"marker"===t.type}),e=t.features.filter(function(t){return"polygon"===t.type});n.forEach(function(t){t.leafletObject=L.marker(t.coords).bindPopup(t.name)}),e.forEach(function(t){t.leafletObject=L.polygon(t.coords).bindPopup(t.name)})})}},Object(r.a)(o,"layerChanged",function(t,n){}),Object(r.a)(o,"geolocation",function(){navigator.geolocation.getCurrentPosition(this.buildUrl)}),Object(r.a)(o,"currentLocation",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):this.error="Geolocation is not supported."}),Object(r.a)(o,"buildUrl",function(t){t.coords.latitude,t.coords.longitude}),Object(r.a)(o,"showPosition",function(t){this.lat=t.coords.latitude,this.lon=t.coords.longitude}),o),beforeMount:function(){this.geolocation()}}),l=e(13),f=Object(l.a)(c,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[t._v("Lat = "+t._s(t.lat)+" Lon ="+t._s(t.lon))]),t._v(" "),t._l(t.layers,function(n){return e("div",{key:n.id,staticClass:"form-check"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.active,expression:"layer.active"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.active)?t._i(n.active,null)>-1:n.active},on:{change:[function(e){var o=n.active,r=e.target,c=!!r.checked;if(Array.isArray(o)){var l=t._i(o,null);r.checked?l<0&&t.$set(n,"active",o.concat([null])):l>-1&&t.$set(n,"active",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(n,"active",c)},function(e){return t.layerChanged(n.id,n.active)}]}}),t._v("\n        "+t._s(n.name)+"\n    ")])])}),t._v(" "),e("div",{staticStyle:{height:"50vh",width:"100%"},attrs:{id:"map"}},[e("no-ssr",[e("l-map",{attrs:{zoom:t.zoom,center:t.userLocation}},[e("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),e("l-marker",{attrs:{"lat-lng":t.userLocation}}),t._v(" "),t._l(t.stations,function(t){return e("l-marker",{key:t.id,attrs:{"lat-lng":t.coords}})}),t._v(" "),e("v-locatecontrol")],2)],1)],1)],2)},[],!1,null,null,null).exports,d={computed:{stations:function(){return this.$store.state.stations.all}}},v={components:{StationList:Object(l.a)(d,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._v("\n    List of Stations\n    "),e("ul",t._l(t.stations,function(n){return e("li",{key:n.id},[e("nuxt-link",{attrs:{to:{name:"stations-id",params:{id:n.url_name}}}},[t._v("\n                "+t._s(n.url_name)+"\n            ")])],1)}),0)])},[],!1,null,null,null).exports,StationMap:f}},h=Object(l.a)(v,function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"container"},[n("StationMap"),this._v(" "),n("StationList")],1)])},[],!1,null,null,null);n.default=h.exports}}]);