exports.ids=[2],exports.modules={21:function(t,e,o){"use strict";o.r(e);var r={data:()=>({error:"",lat:"",lon:"",demo:[],url:"https://api.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidmphbmRyZWkiLCJhIjoiY2p5bGJ4YTZnMDY5aTNjcnR3N2p4NGZmbCJ9.uxuxi-gzV2Nz47Scn-uhLw",zoom:13,id:"mapbox.streets",accessToken:"pk.eyJ1IjoidmphbmRyZWkiLCJhIjoiY2p5bGJ4YTZnMDY5aTNjcnR3N2p4NGZmbCJ9.uxuxi-gzV2Nz47Scn-uhLw",map:null,tileLayer:null,bounds:null,layers:[{id:0,name:"Bio gas",active:!1,features:[]}]}),computed:{stations(){return this.$store.state.stations.all},userLocation(){return[this.lat,this.lon]}},mounted(){this.initLayers(),this.currentLocation()},methods:{layerChanged(t,e){this.layers.find(e=>e.id===t).features.forEach(t=>{e?t.leafletObject.addTo(this.map):t.leafletObject.removeFrom(this.map)})},initLayers(){this.layers.forEach(t=>{const e=t.features.filter(t=>"marker"===t.type),o=t.features.filter(t=>"polygon"===t.type);e.forEach(t=>{t.leafletObject=L.marker(t.coords).bindPopup(t.name)}),o.forEach(t=>{t.leafletObject=L.polygon(t.coords).bindPopup(t.name)})})},layerChanged(t,e){},geolocation(){navigator.geolocation.getCurrentPosition(this.buildUrl)},currentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition):this.error="Geolocation is not supported."},buildUrl(t){t.coords.latitude,t.coords.longitude},showPosition(t){this.lat=t.coords.latitude,this.lon=t.coords.longitude}},beforeMount(){this.geolocation()}},n=o(1);var l=Object(n.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._ssrNode("<p>"+t._ssrEscape("Lat = "+t._s(t.lat)+" Lon ="+t._s(t.lon))+"</p> "+t._ssrList(t.layers,function(e){return'<div class="form-check"><label class="form-check-label"><input type="checkbox"'+t._ssrAttr("checked",Array.isArray(e.active)?t._i(e.active,null)>-1:e.active)+' class="form-check-input">'+t._ssrEscape("\n        "+t._s(e.name)+"\n    ")+"</label></div>"})+" "),t._ssrNode('<div id="map" style="height: 50vh; width: 100%;">',"</div>",[o("no-ssr",[o("l-map",{attrs:{zoom:t.zoom,center:t.userLocation}},[o("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),o("l-marker",{attrs:{"lat-lng":t.userLocation}}),t._v(" "),t._l(t.stations,function(t){return o("l-marker",{key:t.id,attrs:{"lat-lng":t.coords}})}),t._v(" "),o("v-locatecontrol")],2)],1)],1)],2)},[],!1,function(t){},null,"1d894574").exports,c={computed:{stations(){return this.$store.state.stations.all}}};var d={components:{StationList:Object(n.a)(c,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._ssrNode("\n    List of Stations\n    "),t._ssrNode("<ul>","</ul>",t._l(t.stations,function(e){return t._ssrNode("<li>","</li>",[o("nuxt-link",{attrs:{to:{name:"stations-id",params:{id:e.url_name}}}},[t._v("\n                "+t._s(e.url_name)+"\n            ")])],1)}),0)],2)},[],!1,function(t){},null,"2dd576dc").exports,StationMap:l}};var h=Object(n.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._ssrNode('<div class="container">',"</div>",[e("StationMap"),this._ssrNode(" "),e("StationList")],2)])},[],!1,function(t){},null,"89b59f58");e.default=h.exports}};
//# sourceMappingURL=02a7ef43da763bea2184.js.map