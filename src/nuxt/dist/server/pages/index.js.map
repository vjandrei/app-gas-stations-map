{"version":3,"file":"pages/index.js","sources":["webpack:///./components/Map.vue?efe9","webpack:///./components/Map.vue?0095","webpack:///./pages/index.vue?3cb0","webpack:///./components/Map.vue?e206","webpack:///./components/Map.vue","webpack:///./components/Map.vue?5c3d","webpack:///./components/Map.vue?579a","webpack:///./components/StationList.vue?1e7c","webpack:///./components/StationList.vue","webpack:///./components/StationList.vue?d740","webpack:///./components/StationList.vue?dc0c","webpack:///./pages/index.vue","webpack:///./pages/index.vue?ff57","webpack:///./pages/index.vue?b7d3"],"sourcesContent":["// Exports\nmodule.exports = {};\n","import mod from \"-!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div class=\\\"container mx-auto p-4 s:max-w-screen-sm\\\">\",\"</div>\",[_vm._ssrNode(((_vm.noUserLocation)?(\"<div class=\\\"text-center\\\"><h1 class=\\\"mx-auto text-center text-xl font-bold mb-4\\\">\\n        Kaasun tankkaaminen\\n      </h1> <p class=\\\"mb-4\\\">\\n        Kaasuasemat on karttapohjainen sovellus josta löydät kaasuautoilu\\n        asemat ympäri maailmaa. Jotta asemat tulisi sovellukseen sinun on\\n        annettava oikeus sovellukselle käyttääkseen paikannustietoja.\\n      </p> <button class=\\\"mx-auto text-center bg-blue-500 hover:bg-blue-700 text-sm text-white font-bold py-2 px-4 rounded\\\">\"+((_vm.showLocationLoading)?(\"<span>Haetaan paikkatietoja</span>\"):(\"<span>Paikanna minut</span>\"))+\"</button></div>\"):\"<!---->\")+\" \"),(_vm.hasUserlocation)?_vm._ssrNode(\"<div>\",\"</div>\",[_c('StationMap'),_vm._ssrNode(\" <pre id=\\\"coordinates\\\" class=\\\"ui-coordinates\\\"></pre> \"),_c('StationList')],2):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div id=\\\"map\\\">\",\"</div>\",[_c('client-only',[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center},on:{\"update:bounds\":_vm.boundsUpdated,\"update:center\":_vm.centerUpdated,\"ready\":_vm.markers}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.stations),function(station){return _c('l-marker',{key:station.id,attrs:{\"lat-lng\":station.coords}})}),_vm._v(\" \"),_c('v-locatecontrol')],2)],1)],1),_vm._ssrNode(\" <div id=\\\"sidebar\\\"></div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst isBrowser = typeof window !== 'undefined';\nlet leaflet;\nif (isBrowser) {\n  leaflet = require('leaflet');\n}\nexport default {\n  data() {\n    /* Data properties will go here */\n    return {\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      attribution:\n        '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      zoom: 15,\n      center: null,\n      bounds: null,\n    };\n  },\n  created() {\n    if (isBrowser) {\n      this.$store.state.locations.forEach((value, key) => {\n        this.center = leaflet.latLng(Object.values(value.geolocations));\n      });\n    }\n  },\n\n  computed: {\n    stations() {\n      return this.$store.state.stations.all;\n    },\n    geolocations() {\n      return this.$store.state.geolocations;\n    },\n  },\n\n  methods: {\n    /* Any app-specific functions go here */ markers() {},\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      const inBounds = [];\n      this.bounds = bounds;\n      const markers = this.$store.state.stations.all;\n\n      /*\n      for (var i = 0, len = markers.length; i < len; i++) {\n        var marker = markers[i];\n        if (bounds.contains(marker.coords)) {\n          inBounds.push(marker.name);\n          console.log(marker.name);\n        }\n      }\n      */\n    },\n  },\n};\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=b8f3db3a&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Map.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"1d894574\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"\\n  Nearest stations\\n  \"),_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.stations),function(station){return _vm._ssrNode(\"<li>\",\"</li>\",[_c('nuxt-link',{staticClass:\"font-semibold\",attrs:{\"to\":{ name: 'stations-id', params: { id: station.url_name } }}},[_vm._v(_vm._s(station.name)+\"\\n      \")]),_vm._ssrNode(_vm._ssrEscape(\"\\n      (\"+_vm._s((station.distance / 1000).toFixed(1))+\"\\n      km)\\n      \"+_vm._s(station.address)+\"\\n    \"))],2)}),0)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      markers: [],\n    };\n  },\n  computed: {\n    stations() {\n      return this.$store.state.stations.all\n        .map((m) =>\n          Object.assign({}, m, {\n            distance: L.latLng(\n              this.$store.state.locations[0].geolocations.latitude,\n              this.$store.state.locations[0].geolocations.longitude\n            ).distanceTo(L.latLng([m.coords.lat, m.coords.lng])),\n          })\n        )\n        .sort((a, b) => a.distance - b.distance);\n    },\n  },\n  methods: {\n    orderList() {\n      console.log('Filter!!');\n    },\n  },\n};\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./StationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StationList.vue?vue&type=template&id=c610238e&\"\nimport script from \"./StationList.vue?vue&type=script&lang=js&\"\nexport * from \"./StationList.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"2dd576dc\"\n  \n)\n\nexport default component.exports","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport StationMap from '@/components/Map';\nimport StationList from '@/components/StationList';\nexport default {\n  data() {\n    return {\n      userCoords: [],\n    };\n  },\n  components: {\n    StationList,\n    StationMap,\n  },\n  created() {},\n  computed: {\n    hasUserlocation() {\n      return this.$store.state.hasUserlocation;\n    },\n    noUserLocation() {\n      return this.$store.state.gettingLocation;\n    },\n    showLocationLoading() {\n      return this.$store.state.loadLocation;\n    },\n  },\n  methods: {\n    async getLocation() {\n      this.$store.dispatch('fetchFromNavigator');\n    },\n  },\n};\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=23c34187&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"89b59f58\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;AASA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;AASA;AACA;AApBA;AA7BA;;AChCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAGA;AADA;AAQA;AACA;AAbA;AAcA;AACA;AACA;AACA;AACA;AAJA;AApBA;;ACnBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAVA;AAWA;AACA;AACA;AACA;AACA;AAJA;AAtBA;;AChCA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}